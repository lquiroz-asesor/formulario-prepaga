<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Formulario Leads Prepaga</title>
</head>
<body>

<h2>Formulario Leads Prepaga</h2>

<form id="miFormulario">
  <label>Nombre: <input type="text" name="nombre" required></label><br>
  <label>Teléfono: <input type="text" name="telefono" required></label><br>
  <label>Email: <input type="email" name="mail"></label><br>
  <label>Edad: <input type="number" name="edad"></label><br>
  <label>Zona: <input type="text" name="zona"></label><br>
  <label>Localidad: <input type="text" name="localidad"></label><br>
  <label>Tipo de plan: <input type="text" name="tipo_plan"></label><br>
  <label>Integrantes: <input type="number" name="integrantes"></label><br>
  <label>Cobertura: <input type="text" name="cobertura"></label><br>
  <label>Clínica: <input type="text" name="clinica"></label><br>
  <label>Comentarios:<br>
    <textarea name="comentarios"></textarea>
  </label><br><br>

  <button type="submit">Enviar</button>
</form>

<script>
const scriptURL = "https://script.google.com/macros/s/AKfycbx2pbR9QfJxQ-ChlYpQ-r6EXXMkVBdPHTfd27nhMSxQ7qXou8yhUNSAziXk7eTCMhUAZg/exec";

document.getElementById("miFormulario").addEventListener("submit", async (e) => {
  e.preventDefault();

  const formData = new FormData(e.target);
  const data = {};
  formData.forEach((value, key) => data[key] = value);

  try {
   const res = await fetch(scriptURL, {
   method: "POST",
   body: JSON.stringify(data)
  });

const text = await res.text();
console.log("Respuesta servidor:", text);

if (text.includes("ok")) {
  alert("✅ Datos enviados correctamente");
} else {
  alert("❌ Error al enviar");
}

  } catch (err) {
    alert("⚠️ No se pudo conectar con el servidor");
    console.error(err);
  }
});
</script>

</body>
</html>







